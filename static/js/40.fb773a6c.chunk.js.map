{"version":3,"sources":["Demo/Authentication/SignIn/ChangePassword.js","../node_modules/react-bootstrap/esm/Spinner.js"],"names":["ChangePassword","loggedInUser","useContext","AuthContext","Id","id","useState","old_password","new_password","confirm_password","data","setData","loading","setLoading","errMsg","setErrMsg","handleChange","e","target","value","a","key","preventDefault","formData","FormData","append","changePassword","localStorage","removeItem","window","location","reload","response","style","marginTop","Header","Title","as","Body","Group","Label","Control","type","onChange","className","error","variant","onClick","animation","size","_excluded","Spinner","React","forwardRef","_ref","ref","bsPrefix","children","_ref$as","Component","props","_objectWithoutPropertiesLoose","bsSpinnerPrefix","useBootstrapPrefix","createElement","_extends","classNames","displayName"],"mappings":"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","file":"static/js/40.fb773a6c.chunk.js","sourcesContent":["import React, { useContext,useState } from 'react';\nimport {Row, Col, Card, Form, Button, InputGroup, FormControl, Spinner} from 'react-bootstrap';\nimport Aux from \"../../../hoc/_Aux\";\nimport { changePassword } from '../../../api';\n\nimport { AuthContext } from \"../../../contexts/Auth\";\n\nfunction ChangePassword(){\n    const { loggedInUser } = useContext(AuthContext);\n    const Id = loggedInUser && loggedInUser.id;\n    const initialState = {\n    \told_password: '',\n    \tnew_password: '',\n    \tconfirm_password: ''\n    }\n    const [data, setData]=useState(initialState);\n    const [loading, setLoading]=useState(false);\n    const [errMsg, setErrMsg]=useState(false);\n    const { old_password,new_password,confirm_password } = data;\n\n    function handleChange(e){\n    \tsetData({...data, [e.target.id]: e.target.value})\n    }\n\n    async function handleSubmit(e) {\n    \te.preventDefault();\n    \tsetLoading(true);\n    \tsetErrMsg('');\n    \ttry{\n    \t\tconst formData = new FormData();\n    \t\tfor (let key in data) {\n\t\t\t\tformData.append(key, data[key]);\n\t\t\t}\n    \t\tawait changePassword(Id, formData);\n    \t\tsetLoading(false);\n    \t\tlocalStorage.removeItem('jwt_token');\n        \twindow.location.reload();\n    \t}catch(error){\n    \t\tsetLoading(false);\n    \t\tif(error.response.data){\n    \t\t\tsetErrMsg(error.response.data)\n    \t\t}\n    \t}\n    }\n\n\treturn(\n\t\t<>\n\t\t\t<Aux>\n\t            <Row>\n\t                <Col>\n\t                    <Card style={{ marginTop: \"-25px\" }}>\n\t                        <Card.Header>\n\t                            <Card.Title as=\"h5\">Change Password</Card.Title>\n\t                        </Card.Header>\n\t                        <Card.Body>\n\t                        <Form>\n\t\t\t\t\t\t\t  <Form.Group>\n\t\t\t\t\t\t\t    <Form.Label>Old Password</Form.Label>\n\t\t\t\t\t\t\t    <Form.Control \n\t\t\t\t\t\t\t    \ttype=\"password\"\n\t\t\t\t\t\t\t    \tid=\"old_password\" \n\t\t\t\t\t\t\t    \tonChange={handleChange}\n\t\t\t\t\t\t\t    \tvalue={old_password}\n\t\t\t\t\t\t\t    />\n\t\t\t\t\t\t\t  {errMsg.old_password && (<p className=\"text-danger\">{errMsg.old_password}</p>)}\n\t\t\t\t\t\t\t  </Form.Group>\n\t\t\t\t\t\t\t  <Form.Group>\n\t\t\t\t\t\t\t    <Form.Label>New Password</Form.Label>\n\t\t\t\t\t\t\t    <Form.Control \n\t\t\t\t\t\t\t    \ttype=\"password\" \n\t\t\t\t\t\t\t    \tid=\"new_password\"\n\t\t\t\t\t\t\t    \tonChange={handleChange}\n\t\t\t\t\t\t\t    \tvalue={new_password}\n\t\t\t\t\t\t\t    />\n\t\t\t\t\t\t\t  {errMsg.new_password && (<p className=\"text-danger\">{errMsg.new_password}</p>)}\n\t\t\t\t\t\t\t  </Form.Group>\n\t\t\t\t\t\t\t  <Form.Group>\n\t\t\t\t\t\t\t    <Form.Label>Confirm Password</Form.Label>\n\t\t\t\t\t\t\t    <Form.Control \n\t\t\t\t\t\t\t    \ttype=\"password\" \n\t\t\t\t\t\t\t    \tid=\"confirm_password\"\n\t\t\t\t\t\t\t    \tonChange={handleChange}\n\t\t\t\t\t\t\t    \tvalue={confirm_password}\n\t\t\t\t\t\t\t    />\n\t\t\t\t\t\t\t  {errMsg.confirm_password && (<p className=\"text-danger\">{errMsg.confirm_password}</p>)}\n\t\t\t\t\t\t\t  {errMsg.error && (<p className=\"text-danger\">{errMsg.error}</p>)}\n\t\t\t\t\t\t\t  </Form.Group>\n\t\t\t\t\t\t\t  <Button variant=\"primary\" type=\"submit\" onClick={handleSubmit}>\n\t\t\t\t\t\t\t    {loading && (\n\t\t\t\t\t\t\t\t    \t<Spinner animation=\"border\" size=\"sm\" />\n\t\t\t\t\t\t\t\t)}{' '}Submit\n\t\t\t\t\t\t\t  </Button>\n\t\t\t\t\t\t\t</Form>\n\t                        </Card.Body>\n\t                    </Card>\n\t                </Col>\n\t            </Row>\n\t        </Aux>\n        </>\n\t)\n}\nexport default ChangePassword;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"variant\", \"animation\", \"size\", \"children\", \"as\", \"className\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Spinner = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      animation = _ref.animation,\n      size = _ref.size,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'spinner');\n  var bsSpinnerPrefix = bsPrefix + \"-\" + animation;\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, bsSpinnerPrefix, size && bsSpinnerPrefix + \"-\" + size, variant && \"text-\" + variant)\n  }), children);\n});\nSpinner.displayName = 'Spinner';\nexport default Spinner;"],"sourceRoot":""}